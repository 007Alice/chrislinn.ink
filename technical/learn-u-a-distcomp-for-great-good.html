<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><style>body {
  max-width: 980px;
  border: 1px solid #ddd;
  outline: 1300px solid #fff;
  margin: 16px auto;
}

body .markdown-body
{
  padding: 45px;
}

@font-face {
  font-family: fontawesome-mini;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

.markdown-body {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body b,
.markdown-body strong {
  font-weight: bold;
}

.markdown-body mark {
  background: #ff0;
  color: #000;
  font-style: italic;
  font-weight: bold;
}

.markdown-body sub,
.markdown-body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
.markdown-body sup {
  top: -0.5em;
}
.markdown-body sub {
  bottom: -0.25em;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre,
.markdown-body samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body .codehilitetable {
  border: 0;
  border-spacing: 0;
}

.markdown-body .codehilitetable tr {
  border: 0;
}

.markdown-body .codehilitetable pre,
.markdown-body .codehilitetable div.codehilite {
  margin: 0;
}

.markdown-body .linenos,
.markdown-body .code,
.markdown-body .codehilitetable td {
  border: 0;
  padding: 0;
}

.markdown-body td:not(.linenos) .linenodiv {
  padding: 0 !important;
}

.markdown-body .code {
  width: 100%;
}

.markdown-body .linenos div pre,
.markdown-body .linenodiv pre,
.markdown-body .linenodiv {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-left-radius: 3px;
  -webkit-border-bottom-left-radius: 3px;
  -moz-border-radius-topleft: 3px;
  -moz-border-radius-bottomleft: 3px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
}

.markdown-body .code div pre,
.markdown-body .code div {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-right-radius: 3px;
  -webkit-border-bottom-right-radius: 3px;
  -moz-border-radius-topright: 3px;
  -moz-border-radius-bottomright: 3px;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.4;
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before,
.markdown-body hr:after {
  display: table;
  content: " ";
}

.markdown-body hr:after {
  clear: both;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre,
.markdown-body samp {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -moz-linear-gradient(#fefefe, #e7e7e7);
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  border-radius: 2px;
  border: 1px solid #cfcfcf;
  color: #000;
  padding: 3px 5px;
  line-height: 10px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  display: inline-block;
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .headerlink {
  font: normal 400 16px fontawesome-mini;
  vertical-align: middle;
  margin-left: -16px;
  float: left;
  display: inline-block;
  text-decoration: none;
  opacity: 0;
  color: #333;
}

.markdown-body .headerlink:focus {
  outline: none;
}

.markdown-body h1 .headerlink {
  margin-top: 0.8rem;
}

.markdown-body h2 .headerlink,
.markdown-body h3 .headerlink {
  margin-top: 0.6rem;
}

.markdown-body h4 .headerlink {
  margin-top: 0.2rem;
}

.markdown-body h5 .headerlink,
.markdown-body h6 .headerlink {
  margin-top: 0;
}

.markdown-body .headerlink:hover,
.markdown-body h1:hover .headerlink,
.markdown-body h2:hover .headerlink,
.markdown-body h3:hover .headerlink,
.markdown-body h4:hover .headerlink,
.markdown-body h5:hover .headerlink,
.markdown-body h6:hover .headerlink {
  opacity: 1;
  text-decoration: none;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre,
.markdown-body .admonition {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code,
.markdown-body samp {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .codehilite {
  margin-bottom: 16px;
}

.markdown-body .codehilite pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .codehilite pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

/* Admonition */
.markdown-body .admonition {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  position: relative;
  border-radius: 3px;
  border: 1px solid #e0e0e0;
  border-left: 6px solid #333;
  padding: 10px 10px 10px 30px;
}

.markdown-body .admonition table {
  color: #333;
}

.markdown-body .admonition p {
  padding: 0;
}

.markdown-body .admonition-title {
  font-weight: bold;
  margin: 0;
}

.markdown-body .admonition>.admonition-title {
  color: #333;
}

.markdown-body .attention>.admonition-title {
  color: #a6d796;
}

.markdown-body .caution>.admonition-title {
  color: #d7a796;
}

.markdown-body .hint>.admonition-title {
  color: #96c6d7;
}

.markdown-body .danger>.admonition-title {
  color: #c25f77;
}

.markdown-body .question>.admonition-title {
  color: #96a6d7;
}

.markdown-body .note>.admonition-title {
  color: #d7c896;
}

.markdown-body .admonition:before,
.markdown-body .attention:before,
.markdown-body .caution:before,
.markdown-body .hint:before,
.markdown-body .danger:before,
.markdown-body .question:before,
.markdown-body .note:before {
  font: normal normal 16px fontawesome-mini;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  line-height: 1.5;
  color: #333;
  position: absolute;
  left: 0;
  top: 0;
  padding-top: 10px;
  padding-left: 10px;
}

.markdown-body .admonition:before {
  content: "\f056\00a0";
  color: 333;
}

.markdown-body .attention:before {
  content: "\f058\00a0";
  color: #a6d796;
}

.markdown-body .caution:before {
  content: "\f06a\00a0";
  color: #d7a796;
}

.markdown-body .hint:before {
  content: "\f05a\00a0";
  color: #96c6d7;
}

.markdown-body .danger:before {
  content: "\f057\00a0";
  color: #c25f77;
}

.markdown-body .question:before {
  content: "\f059\00a0";
  color: #96a6d7;
}

.markdown-body .note:before {
  content: "\f040\00a0";
  color: #d7c896;
}

.markdown-body .admonition::after {
  content: normal;
}

.markdown-body .attention {
  border-left: 6px solid #a6d796;
}

.markdown-body .caution {
  border-left: 6px solid #d7a796;
}

.markdown-body .hint {
  border-left: 6px solid #96c6d7;
}

.markdown-body .danger {
  border-left: 6px solid #c25f77;
}

.markdown-body .question {
  border-left: 6px solid #96a6d7;
}

.markdown-body .note {
  border-left: 6px solid #d7c896;
}

.markdown-body .admonition>*:first-child {
  margin-top: 0 !important;
}

.markdown-body .admonition>*:last-child {
  margin-bottom: 0 !important;
}

/* progress bar*/
.markdown-body .progress {
  display: block;
  width: 300px;
  margin: 10px 0;
  height: 24px;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #ededed;
  position: relative;
  box-shadow: inset -1px 1px 3px rgba(0, 0, 0, .1);
}

.markdown-body .progress-label {
  position: absolute;
  text-align: center;
  font-weight: bold;
  width: 100%; margin: 0;
  line-height: 24px;
  color: #333;
  text-shadow: 1px 1px 0 #fefefe, -1px -1px 0 #fefefe, -1px 1px 0 #fefefe, 1px -1px 0 #fefefe, 0 1px 0 #fefefe, 0 -1px 0 #fefefe, 1px 0 0 #fefefe, -1px 0 0 #fefefe, 1px 1px 2px #000;
  -webkit-font-smoothing: antialiased !important;
  white-space: nowrap;
  overflow: hidden;
}

.markdown-body .progress-bar {
  height: 24px;
  float: left;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #96c6d7;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
  background-size: 30px 30px;
  background-image: -webkit-linear-gradient(
    135deg, rgba(255, 255, 255, .4) 27%,
    transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%,
    transparent 77%, transparent
  );
  background-image: -moz-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -ms-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -o-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
}

.markdown-body .progress-100plus .progress-bar {
  background-color: #a6d796;
}

.markdown-body .progress-80plus .progress-bar {
  background-color: #c6d796;
}

.markdown-body .progress-60plus .progress-bar {
  background-color: #d7c896;
}

.markdown-body .progress-40plus .progress-bar {
  background-color: #d7a796;
}

.markdown-body .progress-20plus .progress-bar {
  background-color: #d796a6;
}

.markdown-body .progress-0plus .progress-bar {
  background-color: #c25f77;
}

.markdown-body .candystripe-animate .progress-bar{
  -webkit-animation: animate-stripes 3s linear infinite;
  -moz-animation: animate-stripes 3s linear infinite;
  animation: animate-stripes 3s linear infinite;
}

@-webkit-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@-moz-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

.markdown-body .gloss .progress-bar {
  box-shadow:
    inset 0 4px 12px rgba(255, 255, 255, .7),
    inset 0 -12px 0 rgba(0, 0, 0, .05);
}

/* MultiMarkdown Critic Blocks */
.markdown-body .critic_mark {
  background: #ff0;
}

.markdown-body .critic_delete {
  color: #c82829;
  text-decoration: line-through;
}

.markdown-body .critic_insert {
  color: #718c00 ;
  text-decoration: underline;
}

.markdown-body .critic_comment {
  color: #8e908c;
  font-style: italic;
}

.markdown-body .headeranchor {
  font: normal normal 16px fontawesome-mini;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.headeranchor:before {
  content: '\e157';
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 4px 0.25em -20px;
  vertical-align: middle;
}

/* Media */
@media only screen and (min-width: 480px) {
  .markdown-body {
    font-size:14px;
  }
}

@media only screen and (min-width: 768px) {
  .markdown-body {
    font-size:16px;
  }
}

@media print {
  .markdown-body * {
    background: transparent !important;
    color: black !important;
    filter:none !important;
    -ms-filter: none !important;
  }

  .markdown-body {
    font-size:12pt;
    max-width:100%;
    outline:none;
    border: 0;
  }

  .markdown-body a,
  .markdown-body a:visited {
    text-decoration: underline;
  }

  .markdown-body .headeranchor-link {
    display: none;
  }

  .markdown-body a[href]:after {
    content: " (" attr(href) ")";
  }

  .markdown-body abbr[title]:after {
    content: " (" attr(title) ")";
  }

  .markdown-body .ir a:after,
  .markdown-body a[href^="javascript:"]:after,
  .markdown-body a[href^="#"]:after {
    content: "";
  }

  .markdown-body pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .markdown-body pre,
  .markdown-body blockquote {
    border: 1px solid #999;
    padding-right: 1em;
    page-break-inside: avoid;
  }

  .markdown-body .progress,
  .markdown-body .progress-bar {
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
  }

  .markdown-body .progress {
    border: 1px solid #ddd;
  }

  .markdown-body .progress-bar {
    height: 22px;
    border-right: 1px solid #ddd;
  }

  .markdown-body tr,
  .markdown-body img {
    page-break-inside: avoid;
  }

  .markdown-body img {
    max-width: 100% !important;
  }

  .markdown-body p,
  .markdown-body h2,
  .markdown-body h3 {
    orphans: 3;
    widows: 3;
  }

  .markdown-body h2,
  .markdown-body h3 {
    page-break-after: avoid;
  }
}
</style><style>/*GitHub*/
.codehilite {background-color:#fff;color:#333333;}
.codehilite .hll {background-color:#ffffcc;}
.codehilite .c{color:#999988;font-style:italic}
.codehilite .err{color:#a61717;background-color:#e3d2d2}
.codehilite .k{font-weight:bold}
.codehilite .o{font-weight:bold}
.codehilite .cm{color:#999988;font-style:italic}
.codehilite .cp{color:#999999;font-weight:bold}
.codehilite .c1{color:#999988;font-style:italic}
.codehilite .cs{color:#999999;font-weight:bold;font-style:italic}
.codehilite .gd{color:#000000;background-color:#ffdddd}
.codehilite .ge{font-style:italic}
.codehilite .gr{color:#aa0000}
.codehilite .gh{color:#999999}
.codehilite .gi{color:#000000;background-color:#ddffdd}
.codehilite .go{color:#888888}
.codehilite .gp{color:#555555}
.codehilite .gs{font-weight:bold}
.codehilite .gu{color:#800080;font-weight:bold}
.codehilite .gt{color:#aa0000}
.codehilite .kc{font-weight:bold}
.codehilite .kd{font-weight:bold}
.codehilite .kn{font-weight:bold}
.codehilite .kp{font-weight:bold}
.codehilite .kr{font-weight:bold}
.codehilite .kt{color:#445588;font-weight:bold}
.codehilite .m{color:#009999}
.codehilite .s{color:#dd1144}
.codehilite .n{color:#333333}
.codehilite .na{color:teal}
.codehilite .nb{color:#0086b3}
.codehilite .nc{color:#445588;font-weight:bold}
.codehilite .no{color:teal}
.codehilite .ni{color:purple}
.codehilite .ne{color:#990000;font-weight:bold}
.codehilite .nf{color:#990000;font-weight:bold}
.codehilite .nn{color:#555555}
.codehilite .nt{color:navy}
.codehilite .nv{color:teal}
.codehilite .ow{font-weight:bold}
.codehilite .w{color:#bbbbbb}
.codehilite .mf{color:#009999}
.codehilite .mh{color:#009999}
.codehilite .mi{color:#009999}
.codehilite .mo{color:#009999}
.codehilite .sb{color:#dd1144}
.codehilite .sc{color:#dd1144}
.codehilite .sd{color:#dd1144}
.codehilite .s2{color:#dd1144}
.codehilite .se{color:#dd1144}
.codehilite .sh{color:#dd1144}
.codehilite .si{color:#dd1144}
.codehilite .sx{color:#dd1144}
.codehilite .sr{color:#009926}
.codehilite .s1{color:#dd1144}
.codehilite .ss{color:#990073}
.codehilite .bp{color:#999999}
.codehilite .vc{color:teal}
.codehilite .vg{color:teal}
.codehilite .vi{color:teal}
.codehilite .il{color:#009999}
.codehilite .gc{color:#999;background-color:#EAF2F5}
</style><title>learn-u-a-distcomp-for-great-good</title></head><body><article class="markdown-body"><h1 id="learn-you-a-distributed-computing-for-great-good">Learn You a Distributed Computing for Great Good!<a class="headerlink" href="#learn-you-a-distributed-computing-for-great-good" title="Permanent link"></a></h1>
<p>Revision v0.05</p>
<p>这份笔记大部分是 <a href="/home/chris/GitFiles/chrislinn.ink/technical/%28https%3A/chrislinn.ink/%29">我</a> 从 <a href="https://github.com/SebastianElvis">韩神</a> 和 <a href="https://priewienv.me/">邱巨</a> 处抄袭、总结或与他们请教而来；如果有任何错误，那肯定是我搞错了，与大腿们无关。</p>
<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<h2 id="acid">ACID<a class="headerlink" href="#acid" title="Permanent link"></a></h2>
<p>数据库管理系统（DBMS）在写入或更新资料的过程中，为保证事务（transaction）是正确可靠的</p>
<ul>
<li>atomicity 原子性</li>
<li>consistency 一致性<ul>
<li>数据库的完整性没有被破坏</li>
<li>from one valid state to another 从一个有效状态到另一个有效状态</li>
<li>写入的资料必须完全符合所有的预设约束、触发器、级联回滚等</li>
<li>防止数据库被污染</li>
</ul>
</li>
<li>isolation 隔离性, 独立性<ul>
<li>允许多个并发事务同时对其数据进行读写和修改的能力</li>
<li>事务隔离分为不同级别<ul>
<li>未提交读（Read uncommitted）</li>
<li>提交读（read committed）</li>
<li>可重复读（repeatable read）</li>
<li>串行化（Serializable）</li>
</ul>
</li>
</ul>
</li>
<li>durability 持久性<ul>
<li>事务处理结束后，数据的修改是永久的，系统故障也不会丢失</li>
</ul>
</li>
</ul>
<h2 id="cap">CAP<a class="headerlink" href="#cap" title="Permanent link"></a></h2>
<ul>
<li>Consistency 一致性<ul>
<li>一致性分类<ul>
<li><a href="https://en.wikipedia.org/wiki/Consistency_model">https://en.wikipedia.org/wiki/Consistency_model</a><ul>
<li>Strict consistency</li>
<li>Sequential consistency</li>
<li>Causal consistency</li>
<li>&hellip;</li>
</ul>
</li>
<li><a href="http://www.bailis.org/blog/linearizability-versus-serializability/">Serialisability v.s. Linearisability</a><ul>
<li><a href="https://en.wikipedia.org/wiki/Serializability">Serialisability</a><ul>
<li>multi-operation, multi-object, arbitrary total order</li>
<li>a guarantee about transactions, or groups of one or more operations over one or more objects.</li>
<li><strong>ACID 中的 I</strong></li>
</ul>
</li>
<li>Linearisability<ul>
<li>single-operation, single-object, real-time order</li>
<li>a guarantee about single operations on single objects</li>
<li>Linearizability for read and write 是 “atomic consistency”, 是 <strong>CAP 中的 C</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Availability 可用性</li>
<li>Partition tolerance 分区容错性</li>
</ul>
<h2 id="protocols">Protocols<a class="headerlink" href="#protocols" title="Permanent link"></a></h2>
<ul>
<li>Concurrency Control<ul>
<li>Optimistic Concurrency Control (OCC)<ul>
<li>the database writes (but doesn&rsquo;t commits) the transaction when receiving it</li>
<li>check validity/conflict &ndash;&gt; commit/roll-back</li>
</ul>
</li>
<li>Pessimistic Concurrency Control (PCC)<ul>
<li>lock the resource before being written to the log</li>
<li>if locking successfully &ndash;&gt; commit &amp; unlock</li>
</ul>
</li>
<li>Timestamp Ordering (T/O)</li>
<li>Coordinator-based Concurrency Control</li>
</ul>
</li>
<li>Atomic Commit<ul>
<li>Two Phase Commit (2PC)<ul>
<li>Steps<ul>
<li>Propose</li>
<li>Commit</li>
</ul>
</li>
<li>不能处理fail-stop形式的节点failure </li>
<li>同步阻塞</li>
</ul>
</li>
<li>3PC<ul>
<li>Steps<ul>
<li>Propose</li>
<li>PreCommit</li>
<li>Commit</li>
</ul>
</li>
<li>加入超时</li>
<li>可以有效的处理fail-stop的模式, 但不能处理  一致性问题 (比如 fail-recover)</li>
</ul>
</li>
<li>&hellip;</li>
</ul>
</li>
</ul>
<h2 id="base">BASE<a class="headerlink" href="#base" title="Permanent link"></a></h2>
<p>传统的SQL数据库的事务通常都是支持ACID的强事务机制(强一致性的体现). NoSQL 通常注重性能和扩展性.</p>
<ul>
<li>NoSQL 仅提供对行级别的原子性保证<ul>
<li>同时对同一个Key下的数据进行的两个操作，在实际执行的时候是会串行的执行，保证了每一个Key-Value对不会被破坏</li>
</ul>
</li>
</ul>
<p>BASE: 对CAP中一致性和可用性权衡的结果</p>
<ul>
<li>Basically Availability 基本可用<ul>
<li>响应时间稍微增加</li>
<li>电商功能降级</li>
</ul>
</li>
<li>Soft state 软状态<ul>
<li>弱状态：也称为软状态，和硬状态相对，是指允许系统中的数据存在中间状态，并认为该中间状态的存在不会影响系统的整体可用性，即允许系统在不同节点的数据副本之间进行数据同步的过程存在延时。</li>
</ul>
</li>
<li>Eventually consistency 最终一致性<ul>
<li>经过一段时间的同步后，最终能够达到一个一致的状态</li>
<li>放弃 Strong consistency 强一致性</li>
</ul>
</li>
</ul>
<h2 id="smr">SMR<a class="headerlink" href="#smr" title="Permanent link"></a></h2>
<ul>
<li><a href="https://dl.acm.org/citation.cfm?id=98167">State machine replication</a> is a general paradigm for implementing fault-tolerant services by replicating servers and coordinating client interactions with server replicas.<ul>
<li>Place copies of the State Machine on multiple, independent servers.</li>
<li>Receive client requests, interpreted as Inputs to the State Machine.</li>
<li>Choose an ordering for the Inputs.</li>
<li>Execute Inputs in the chosen order on each server.</li>
<li>Respond to clients with the Output from the State Machine.</li>
<li>Monitor replicas for differences in State or Output.</li>
</ul>
</li>
<li>Properties<ul>
<li>safety<ul>
<li>(Informal) When decisions are made by any two correct nodes, they decide on non-conflicting transactions.</li>
<li>诚实的节点对合法交易将达成统一的 (consistent) 意见</li>
</ul>
</li>
<li>liveness<ul>
<li>(Informal) \(T\)-Liveness: each honest node terminates and outputs a value at the end of \(T\).<ul>
<li>The value of \(T\) depends on the research problems and protocols.</li>
</ul>
</li>
<li>一笔合法交易在合理时间长度内会被确认</li>
</ul>
</li>
<li>total ordering<ul>
<li>taken from <a href="https://www.csee.umbc.edu/~hbzhang/files/beat.pdf">BEAT: Asynchronous BFT made practical (DRZ18)</a><blockquote>
<p>If a correct replica has delivered \(m_1, m_2, \dots ,m_s\) and another correct replica has delivered \(m&rsquo;_1, m&rsquo;_2, \dots , m&rsquo;_{s&rsquo;}\), then \(m_i = m&rsquo;_i\) for \(1 \leq i \leq min(s, s&rsquo;)\).</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="https://rink1969.github.io/Blockchain-consistency_model">SMR vs NoSQL vs Blockchain</a><ul>
<li>replicated data structure一致性这么弱，是因为 replicated data structure选择了高可靠性，一致性自然要弱一些。</li>
<li>区块链跟一般意义上的replicated data structure还不太一样，区块链是通过atomic broadcast来同步(写操作)，其一致性在整个大类里面是最强的。</li>
<li>分布式数据库能达到线性一致性，是因为分布式数据库的读写操作都是由主节点排序的，而区块链的写操作是无序的，并且读操作跟写操作是完全分离的。从CAP的角度来说就是分布式数据库舍弃了部分可用性。分布式数据库主节点不可用的时候，整个系统是不可用的。但是区块链在切换出块节点的过程中是一直保持可用性的。这主要是靠节点间会相互转发交易，当然这也就造成结论的第三点中的情况，上链的顺序跟用户最初发出交易的顺序就不一致了。</li>
</ul>
</li>
</ul>
<h2 id="permissioned-vs-permissionless">Permissioned vs Permissionless<a class="headerlink" href="#permissioned-vs-permissionless" title="Permanent link"></a></h2>
<ul>
<li>Consortium Blockchain<ul>
<li>Permissioned</li>
<li>半信任的威胁模型<ul>
<li>被动性的错误（比如 fail-stop 停止工作）</li>
</ul>
</li>
</ul>
</li>
<li>Public Blockchain<ul>
<li>Permissionless</li>
<li><a href="#BFT">拜占庭威胁模型</a><ul>
<li>主动攻击性的错误</li>
<li>说谎，伪造消息，合谋攻击，或者展开具有选择性的 DoS 攻击</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="paxosraft">Paxos/Raft<a class="headerlink" href="#paxosraft" title="Permanent link"></a></h2>
<ul>
<li>Paxos<ul>
<li>Lamport (图灵奖)</li>
<li>Google<ul>
<li>Bigtable: Chubby lock service</li>
<li><a href="https://draveness.me/zookeeper-chubby">Chubby vs Zookeeper</a></li>
</ul>
</li>
<li>腾讯的 <a href="https://github.com/Tencent/phxpaxos">phxpaxos</a></li>
<li>经 Stanford 简化 &ndash;&gt; Raft<ul>
<li>k8s 中 etcd 状态同步有使用</li>
</ul>
</li>
</ul>
</li>
<li>在比较温和的威胁模型里工作的 (<strong>Crash Fault Torelance</strong>, CFT, fail-stop)<ul>
<li>只对非拜占庭错误具有鲁棒性</li>
</ul>
</li>
</ul>
<h2 id="bft">BFT<a class="headerlink" href="#bft" title="Permanent link"></a></h2>
<p>Byzantine Fault Torelance</p>
<p>Requires &gt;= 2f+1 honest nodes (&lt;= f Byzantine nodes) in order to achieve safety <del>and liveness</del>, where there are totally n = 3f + 1 nodes</p>
<p><strong>TODO:</strong></p>
<ul>
<li><a href="https://medium.com/thundercore/consensus-series-preliminaries-a3bab33ae09">https://medium.com/thundercore/consensus-series-preliminaries-a3bab33ae09</a><ul>
<li>1/2 in sync, 1/3 in async?</li>
</ul>
</li>
<li>PBFT paper section 3</li>
</ul>
<h2 id="network-assumption">Network Assumption<a class="headerlink" href="#network-assumption" title="Permanent link"></a></h2>
<ul>
<li>Synchrony<ul>
<li>a known finite time bound</li>
<li>Algorand 怼了 Ouroboros (ADA, IOHK) 说它是 sync</li>
</ul>
</li>
<li>Partial Synchrony<ul>
<li>an unknown finite time bound, or a known finite time bound plus a known clock drift (Global Stabilisation Time, GST)<ul>
<li><a href="https://arxiv.org/abs/1803.05069">HotStuff</a>.<ul>
<li>PODC&lsquo;19  (ACM Symposium on Principles of Distributed Computing 分布式计算理论顶会)</li>
<li>Facebook&rsquo;s LibraBFT</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Weak Synchrony<ul>
<li>长时间但是有上限的 async 之后 strongly sync 一段足够的时间 (to ensure safety)</li>
<li>也就是 每段 有界时间段里面有一部分 strong sync<ul>
<li>Algorand</li>
</ul>
</li>
</ul>
</li>
<li>Asynchrony<ul>
<li>delivered eventually but without a finite time bound</li>
<li>PBFT<ul>
<li>async<ul>
<li>在这之前的之前的 BFT 协议中拜占庭协议所使用的通讯网络是一个同步网络</li>
<li>can achieve safety in asynchronous networks, but not liveness</li>
<li>PBFT requires synchrony to achieve liveness</li>
</ul>
</li>
<li>OSDI&lsquo;99 (Symposium on Operating Systems Design and Implementation 操作系统顶会)</li>
<li>Barbara Liskov<ul>
<li>图灵奖</li>
</ul>
</li>
<li>Paxos 协议的拜占庭版本<ul>
<li>在 Paxos 协议中加入了一个验证步骤来防止拜占庭错误</li>
</ul>
</li>
<li>Steps<ul>
<li>pre-prepare 序号分配</li>
<li>prepare 相互交互</li>
<li>commit 序号确认</li>
</ul>
</li>
<li>pre-prepare &amp; prepare 保证同一个 view 中的请求有序</li>
<li>Prepare &amp; Commit 保证不同 view 中的请求被有序地执行</li>
<li>怀疑primary节点出错时, 进行 View change<ul>
<li>防止backup节点无限地等待请求的执行。</li>
<li>确保即使当前的primary节点出错，整个系统也能继续运行。</li>
</ul>
</li>
<li><a href="https://www.usenix.org/legacy/events/osdi99/full_papers/castro/castro_html/node3.html#SECTION00030000000000000000">PBFT 中 assume 了 weak synchrony</a>:<blockquote>
<p>it must rely on synchrony to provide liveness</p>
</blockquote>
</li>
<li>HoneyBadgerBFT 提出了改进，说 PBFT 的 liveness assumption 不 practical<blockquote>
<p>guarantees liveness without making any timing assumptions</p>
</blockquote>
<ul>
<li>HoneyBadgerBFT 还是太慢</li>
</ul>
</li>
</ul>
</li>
<li>Tendermint BFT</li>
<li>广播<ul>
<li><a href="https://dl.acm.org/citation.cfm?id=806743">Asynchronous Byzantine agreement protocols</a> by Bracha<ul>
<li>存在的问题是 scalability<ul>
<li>对于 transactions of size B<ul>
<li>bracha 的通信复杂度是 \(O(n^2*B)\)</li>
<li>HoneyBadgerBFT 的是 \(O(n*B)\)<ul>
<li>HoneyBadgerBFT 用的是 erasure-coded broadcast<ul>
<li>small client-load 时可以考虑使用 bracha broadcast 来代替，throughput 更大，lantency 更低</li>
</ul>
</li>
</ul>
</li>
<li><a href="https://dl.acm.org/citation.cfm?id=3243812">BEAT</a> 的是 \(O(B)\)<ul>
<li>CCS&lsquo;18 (ACM Conference on Computer and Communications Security 安全顶会)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="sybil-attack">Sybil Attack 女巫攻击<a class="headerlink" href="#sybil-attack" title="Permanent link"></a></h3>
<p>BFT 要求一大部分(通常是 2/3 以上)的参与者都不是恶意的, 在非许可环境下，一个攻击者可以使用被称作女巫攻击 (Sybil Attack) 的手段模拟出大量的参与者，从而轻易地控制住参与者中的绝大多数。</p>
<p>PoW 中出块其实就是 block producer 的 election, 通过 PoW 使 block producer 身份伪造有成本，PoW 可以抗 Sybil Attack.</p>
<h2 id="consensus">Consensus<a class="headerlink" href="#consensus" title="Permanent link"></a></h2>
<ul>
<li><a href="https://disco.ethz.ch/courses/podc_allstars/lecture/chapter16.pdf">苏黎世理工 课程讲义</a><blockquote>
<p>There are \(n\) nodes, of which at most \(f\) might be faulty (or Byzantine). Each node \(P_i\) starts with an input value (say \(u_i\)). The nodes must decide one of those values (say \(v_i\)), satisfying three properties: Agreement, Validity and Termination.</p>
</blockquote>
<ul>
<li>教科书上的<ul>
<li>Agreement<ul>
<li>All correct processes must agree on the same value.</li>
<li>For any two honest players \(P_i\) and \(P_j\), \(v_i = v_j\).</li>
</ul>
</li>
<li>Validity<ul>
<li>The decision value must be the input value of a node.</li>
<li>\(\forall i: u_i \in \langle v_i \rangle\).</li>
</ul>
</li>
<li>Termination<ul>
<li>(Informal) All correct nodes terminate in finite time.</li>
<li>All the honest players terminate with probability 1.</li>
</ul>
</li>
</ul>
</li>
<li>这几年新提出的<ul>
<li>Linearity<ul>
<li>First proposed in <a href="https://arxiv.org/abs/1803.05069">HotStuff</a>.</li>
<li>Any correct leader sends only \(O(n)\) messages to drive a protocol to consensus.</li>
</ul>
</li>
<li>Responsiveness<ul>
<li>First defined in <a href="https://eprint.iacr.org/2016/917.pdf">Hybrid Consensus</a>.<ul>
<li>DISC&lsquo;17 (International Symposium on Distributed Computing 分布式计算理论顶会)</li>
</ul>
</li>
<li>(Informal) The transaction confirmation time depends only on the network’s actual delay, but not on any a-prior known upper-bound.</li>
<li>A consensus protocol is responsive if nodes can reach the consensus in time depending only on the network’s actual \(\delta\) (message delays), not on the loose upper bound \(\Delta\) (known upper bound on message delays).</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="blockchain-properties">Blockchain Properties<a class="headerlink" href="#blockchain-properties" title="Permanent link"></a></h2>
<ul>
<li>Common prefix (Consistency)<ul>
<li>\(k\)-common-preifx<ul>
<li>First proposed in <a href="https://eprint.iacr.org/2014/765.pdf">The bitcoin backbone protocol: Analysis and applications (GKL15)</a>.<ul>
<li>For any pair of honest players \(P_1\), \(P_2\) adopting the chains \(C_1\), \(C_2\) at rounds \(r_1 \leq r_2\), it holds that \(\mathcal{C}_{1}^{\lceil k} \preceq \mathcal{C}_2\).</li>
</ul>
</li>
</ul>
</li>
<li>\(T\)-consistency<ul>
<li><a href="https://eprint.iacr.org/2016/454.pdf">Analysis of the blockchain protocol in asynchronous networks (PSS17)</a> refines Common Prefix to \(T\)-Consistency in order to provide a black-box reduction.<ul>
<li>Eurocrypt&lsquo;17 密码学顶会</li>
<li>Ouroboros 和 DFINITY 等项目的论文 <strong>均以此模型和部分结论为基础进行安全性证明</strong><ul>
<li>适合区块链的一致性应该是要求诚实的参与者在不考虑潜在的一小部分的，\(T\) 个在链末端的“未确认的”块的情况下，对当前的链达成一致<ul>
<li>只需证明 \(T\)-consistency 不能保持的概率相对于 \(T\) 可以 <strong>被忽略</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Chain growth<ul>
<li>\((\tau, s)\)-Chain growth<ul>
<li>For any honest party \(P\) with chain \(C\), it holds that for any  \(s\) rounds there are at least \(\tau \cdot s\) blocks added to the chain of \(P\).</li>
<li>以相对于 \(T\) <strong>压倒性</strong> (overwhelming) 的概率，在任意时刻，诚实参与者的链在过去的 \(T/g\) 轮中，至少增长了 \(T\) 个消息。称 \(g\) 为该协议的 chain growth.</li>
</ul>
</li>
</ul>
</li>
<li>Chain quality (Fairness)<ul>
<li>\((\mu, k)\)-Chain quality (Fairness)<ul>
<li>The proportion of blocks in any \(k\)-long subsequence produced by the adversary is less than \(\mu \cdot k\), where \(\mu\) is the portion of mining power controlled by the adversary.</li>
<li>以相对于 \(T\) 压倒性的概率，任意诚实参与者的链中的连续  \(T\) 个消息中，诚实参与者提供的消息所占比例至少为 \(\mu\)，称 \(\mu\) 为该协议的 chain quality 。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="propagation">Propagation<a class="headerlink" href="#propagation" title="Permanent link"></a></h2>
<p>优化网络传播: 网络传播影响孤快率/分叉, 影响一致性 (reference: <a href="https://eprint.iacr.org/2016/454.pdf">[PSS17]</a>, <a href="https://www.gsd.inesc-id.pt/~ler/docencia/rcs1314/papers/P2P2013_041.pdf">[DW13]</a>)</p>
<blockquote>
<p>在一个完全异步的环境中，对抗方可以随意延迟消息。对抗方只需控制一小部分算力就可以很容易地使来自诚实方的消息延迟足够长的时间，长到对抗方确保能够拿出比所有诚实方更长的链（这条链可以包含任何对抗方想要的记录），从而随时可以使得 <strong>诚实方切换到对抗方的链</strong>。</p>
</blockquote>
<p>一些优化网络传播值得一看的论文/文章:</p>
<ul>
<li><a href="https://eprint.iacr.org/2013/881.pdf">Secure High-Rate Transaction Processing in Bitcoin</a> (GHOST)</li>
<li><a href="https://arxiv.org/pdf/1810.08092.pdf">Prism: Deconstructing the Blockchain to Approach Physical Limits</a></li>
<li><a href="https://arxiv.org/abs/1905.10518">Bandwidth-Efficient Transaction Relay for Bitcoin</a> (Erlay)</li>
<li><a href="https://link.springer.com/chapter/10.1007/978-3-662-53357-4_8">On scailing decentralized blockchains</a></li>
<li><a href="https://www.gsd.inesc-id.pt/~ler/docencia/rcs1314/papers/P2P2013_041.pdf">Information propagation in the Bitcoin network</a></li>
<li><a href="https://github.com/bitcoin/bips/blob/master/bip-0152.mediawiki">BIP 152</a></li>
<li><a href="https://bloxroute.com/wp-content/uploads/2019/11/bloXrouteWhitepaper.pdf">BloXroute</a></li>
<li><a href="https://bitcoinfibre.org/">FIBRE</a></li>
</ul>
<h2 id="_1">一些攻击<a class="headerlink" href="#_1" title="Permanent link"></a></h2>
<p>此处只列出一些比较重要的攻击，更多攻击 见 <a href="https://chrislinn.gitbooks.io/blockchain-cheatsheet/content/blockchain/attack.html">https://chrislinn.gitbooks.io/blockchain-cheatsheet/content/blockchain/attack.html</a></p>
<ul>
<li>51% 攻击<ul>
<li>需要激励矿工维持全网算力<ul>
<li>p2pool 和 一些山寨币 就是因为没有算力维护所以容易被 51%</li>
<li>incentive compatible, game theory<ul>
<li>SoK: Tools for Game Theoretic Models of Security for Cryptocurrencies</li>
<li>Incentive Compatibility of Bitcoin Mining Pool Reward Functions</li>
<li>sucker punch makes you richer</li>
<li>Lay Down the Common Metrics: Evaluating Proof-of-Work Consensus Protocols&rsquo; Security</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>selfish mining<ul>
<li>获得超出与算力相匹配的收益</li>
</ul>
</li>
<li>Sybil Attack 女巫攻击</li>
<li>Eclipse Attack 日蚀攻击<ul>
<li>可以将整个网络划分为两个部分，降低 51%所需要的算力。</li>
<li><a href="https://bitcoin.stackexchange.com/questions/61151/eclipse-attack-vs-sybil-attack">Eclipse attack vs. Sybil attack</a></li>
</ul>
</li>
<li>PoS 中的 long range attack 长程攻击<ul>
<li>解决办法<ul>
<li>PoW</li>
<li>VDF<ul>
<li>增强随机数的安全性<ul>
<li>太坊 2.0 信标链中使用 RANDAO + VDF 随机选取出块人</li>
</ul>
</li>
<li>还可以解决 Nothing-at-stake Attack</li>
<li>Proof of Space and Time<ul>
<li><a href="https://eprint.iacr.org/2016/035.pdf">Simple Proofs of Space-Time and Rational Proofs of Storage</a><ul>
<li>CRYPTO&lsquo;19 密码学顶会</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>sharding 中的 1% 攻击<ul>
<li>PoW<ul>
<li>比如分 100 片，那么分片上的算力只占 全网 1%，也就是说只需要 1% 的算力，就能完全控制该分片(1% 攻击) </li>
<li>解决办法: 参考 <a href="https://www.usenix.org/conference/nsdi19/presentation/wang-jiaping">Monoxide: Scale out Blockchains with Asynchronous Consensus Zones</a><ul>
<li>NSDI &lsquo;19 (USENIX Symposium on Networked Systems Design and Implementation 计算机网络顶会)</li>
</ul>
</li>
</ul>
</li>
<li>PoS<ul>
<li>解决办法: 随机数<ul>
<li>将节点随机分配到分片，防止作恶者将算力汇集到某一分片<ul>
<li>无法选择被分配到哪个分片</li>
<li>无法提前知道会被分配到哪一个分片</li>
</ul>
</li>
<li>使用 blockhash 可能被操纵</li>
<li>VRF, 可被验证但不可被预测<ul>
<li>Zilliqa 中选取节点</li>
<li>Algorand 中抽签<ul>
<li>生成种子</li>
<li>选择有效的提案</li>
</ul>
</li>
<li>Avalanche 也用了 VRF，但是其 committee  更加去中心化</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="sharding">Sharding 中要考虑的一些问题<a class="headerlink" href="#sharding" title="Permanent link"></a></h2>
<ul>
<li>节点分配的 randomness</li>
<li>cross-shard 的 conflict</li>
<li>cross-shard 的 atomicity</li>
<li>Sharding 中的 网络假设<ul>
<li>同步还是异步，同步的话可能被 卡停 或 反复重来<ul>
<li>比如收集区块 CoSi 多重签名时</li>
</ul>
</li>
</ul>
</li>
</ul></article></body></html>